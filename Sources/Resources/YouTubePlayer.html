<!-- Source: https://github.com/youtube/youtube-ios-player-helper/blob/ff5991e6e3188867fe2738aa92913a37127f8f1d/youtube-ios-player-helper/Assets.bundle/Assets/YTPlayerView-iframe-player.html -->
<!DOCTYPE html>
<html>

<head>
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <style>
        body {
            margin: 0;
            width: 100%;
            height: 100%;
        }

        html {
            width: 100%;
            height: 100%;
        }

        .embed-container iframe,
        .embed-container object,
        .embed-container embed {
            position: absolute;
            top: 0;
            left: 0;
            width: 100% !important;
            height: 100% !important;
        }
    </style>
</head>

<body>
    <!-- YouTube Player iFrame Container -->
    <div class="embed-container">
        <div id="player"></div>
    </div>
    <!-- YouTube iFrame JS API -->
    <script src="https://www.youtube.com/iframe_api"
        onerror="window.location.href='youtubeplayer://onIframeAPIFailedToLoad'">
    </script>
    <!-- Custom JS -->
    <script>
        // The YouTube Player instance
        var player;

        // Configure YouTube Player
        window.YT.ready(() => {
            // Initialize YouTube Player
            player = new window.YT.Player(
                'player',
                YOUTUBE_PLAYER_OPTIONS
            );
            // Set initial size
            player.setSize(
                window.innerWidth,
                window.innerHeight
            );
            // Update location
            window.location.href = 'youtubeplayer://onIframeAPIReady';
        });

        // On window resize
        window.onresize = () => {
            // Set Player size
            player.setSize(
                window.innerWidth,
                window.innerHeight
            );
        }

        // Emit Event with name and data
        function emitEvent(name, data) {
            // Update window location with custom youtubeplayer scheme url
            window.location.href = `youtubeplayer://${name}?data=${data}`;
        }

        // YouTube Player onReady event callback
        function onReady(event) {
            emitEvent('onReady', event.data);
        }

        // YouTube Player onStateChange event callback
        function onStateChange(event) {
            emitEvent('onStateChange', event.data);
        }

        // YouTube Player onPlaybackQualityChange event callback
        function onPlaybackQualityChange(event) {
            emitEvent('onPlaybackQualityChange', event.data);
        }

        // YouTube Player onPlaybackRateChange event callback
        function onPlaybackRateChange(event) {
            emitEvent('onPlaybackRateChange', event.data);
        }

        // YouTube Player onError event callback
        function onError(event) {
            emitEvent('onError', event.data);
        }
    </script>
</body>

</html>
